<html>
    <head>
    <!--  <script src="https://cvs.khronos.org/svn/repos/registry/trunk/public/webgl/sdk/debug/webgl-debug.js"></script> -->
    	<script src="jquery-1.5.1.min.js"></script>
      <link href='http://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'/>
      <link rel="stylesheet" type="text/css" href="style.css" />
      <script type="text/javascript">        
          $(document).ready(function() {

            var redirectToGame = function() {
             document.location = 'index.html'; 
            };

            var showFeedback = function(feedback) {
              $('#user-feedback > p').text(feedback);
            };
          
        
            $('#btnregister').click(function() {    
              $.post('/services/register', {
                username: $('#register-username').val(),
                password: $('#register-password').val(),
                email: $('#register-email').val()
              }, function(data) {
                var result = JSON.parse(data);
                if(result.success)
                  redirectToGame();
                else
                  showFeedback(result.feedback);
              });         
            });

            $('#btnlogin').click(function() {
              $.post('/services/login', {
                username: $('#login-username').val(),
                password: $('#login-password').val()
              }, function(data) {
                var result = JSON.parse(data);
                if(result.success)
                  redirectToGame();
                else
                  showFeedback(result.feedback);
              });
            });

                  
          });
      </script>
	</head>
	<body>		
    <div id="header">
		  <div id="header-title"><h1>Hoverbattles</h1><p>This is a muck-around game by <a href="http://twitter.com/robashton">@robashton</a>, you'll need an username to play.</p></div>
		  <div id="header-instructions"><p>E-mail address is entirely optional, I'm not going to do anything with it* - but if you forgot your password without an e-mail address then you're not getting the account back unless you're my friend.</p></div>
    </div>

    <div id="user-feedback">
      <p>Agh, error</p>
    </div>
    <div id="identification-container">
      <div id="register">
        <h2>Register</h2>
        <label for="register-username">Username: </label><input type="text" name="register-username" id="register-username" /><div class="break"></div>
        <label for="register-password">Password: </label><input type="password" name="register-password" id="register-password" /><div class="break"></div>
        <label for="register-email">E-mail: </label><input type="text" name="register-email" id="register-email" /><div class="break"></div>
        <input type="button" name="btnregister" id="btnregister" value="Register" /><div class="break"></div>
      </div>
      <div id="login">
        <h2>Login</h2>
        <label for="login-username">Username: </label><input type="text" name="login-username" id="login-username" /><div class="break"></div>
        <label for="login-password">Password: </label><input type="password" name="login-password" id="login-password" /><div class="break"></div>
        <input type="button" name="btnlogin" id="btnlogin" value="Login"/><div class="break"></div>
      </div>
    </div> 
    <div id="email-disclaimer">
      <p>*Yes yes I know, I've stuck a disclaimer on that because I know I'd be annoyed a form said that and then got an e-mail out of the blue from some beardy guy on the internet</p>
      <p>I'll not give your e-mail address to anybody, I'll not use it to send advertisements or spam. I may however use it to get in touch personally if you're hitting me up regularly and ask for a feedback session, or I may not. I'm fickle like that.</p>
      <p>And yes, I have every intention of hooking up the Twitters and using that for identity purposes, but one thing at a time - the game is barely even started yet</p>
      <p>Also, I'm aware that my CSS/HTML sucks donkey balls, if you want to fix it then send me a pull request</p>
    </div>      
    </body>
</html>
