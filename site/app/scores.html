<html>
    <head>
    <!--  <script src="https://cvs.khronos.org/svn/repos/registry/trunk/public/webgl/sdk/debug/webgl-debug.js"></script> -->
    	<script src="src/jquery-1.5.1.min.js"></script>
      <link href='http://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'/>
      <link rel="stylesheet" type="text/css" href="style.css" />
      <script type="text/javascript">        
        
          var retrieveHighScoreData = function(callback) {
           $.getJSON('/services/highscorers', callback);
          /*  callback({
              items: [
                { username: 'bob', score: 10, kills: 5, deaths: 2 },
                { username: 'bob', score: 10, kills: 5, deaths: 2 },
                { username: 'bob', score: 10, kills: 5, deaths: 2 },
                { username: 'bob', score: 10, kills: 5, deaths: 2 },
                { username: 'bob', score: 10, kills: 5, deaths: 2 },
                { username: 'bob', score: 10, kills: 5, deaths: 2 },
                { username: 'bob', score: 10, kills: 5, deaths: 2 },
                { playername: 'bob', score: 10, kills: 5, deaths: 2 },
                { username: 'bob', score: 10, kills: 5, deaths: 2 }
              ]
            });*/
          };
          
          $(document).ready(function() {
              retrieveHighScoreData(populateHighScores);
          });

          var populateHighScores = function(data) {
            var body = $('#highscores tbody');
            for(var i = 0; i < data.items.length; i++)
              body.append(createDataRow(i + 1, data.items[i]));
          };

          var createDataRow = function(index, data) {
            var row = $('<tr></tr>');
            row.append($('<td/>').text(index));
            row.append($('<td/>').text(data.username));
            row.append($('<td/>').text(data.totalscore));
            row.append($('<td/>').text(data.totalkills));
            row.append($('<td/>').text(data.totaldeaths));                  
            return row;
          };
      </script>
	</head>
	<body>		
    <div id="header">
		  <div id="header-title"><h1>Hoverbattles Hall of fame</h1><p>Old school high score table ftw.</p></div>
		  <div id="header-instructions"><p><a href="index.html">Go back to the main page</a></p>
    </div>
    <div id="content">
    <h2>All time totals</h2> 
     <table class="stats" id="highscores">
        <thead>
          <tr>
            <td>Rank</td><td>Player name</td><td>Score</td><td>Kills</td><td>Deaths</td>
          </tr>          
        </thead>
        <tbody>
          
        </tbody>
      </table>
    </div>      
    </body>
</html>
