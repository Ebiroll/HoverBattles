<html>
    <head>
    	<script src="../Refactor/jquery-1.5.1.min.js"></script>
        <script src="../Refactor/bootstrap.js"></script>        
        <script src="../Refactor/lazyload.js"></script>
        
		<script type="text/javascript">
			
			$(document).ready(function(){
                
                var app = new blah.Application('game', '../Refactor/');
                app.init(function() {
                    app.scene.camera.setLocation([0, 10, -10]);
                    var landscapeController = new blah.LandscapeController(app);            
                    
                    // Player hovercraft
                    var factory = new blah.HovercraftFactory(app);
                    var hovercraft = factory.create("player");
                    hovercraft.attach(blah.ChaseCamera);
                    hovercraft.attach(blah.HovercraftController);
                    app.scene.addEntity(hovercraft);
                    
                    app.resources.onAllAssetsLoaded(function(){
                        alert('Loaded');
                    });
                    
                    setInterval(function() {  app.tick(); }, 1000 / 30);
                    setInterval(function() {  app.render(); }, 1000 / 30);
                    
                });

			});

		</script>
	</head>
	<body>		
		<h1>HOVERBATTLES!!!</h1>
		<p>WASD to move around</p>
    	<p>FFS be patient, it'll all be black for a while and then there will be colour and stuff.</p>
		<canvas id="game" style="border: none;" width="750" height="500">

		</canvas>
          <p>Clearly I need some proper assets, and things aren't going to be quite so messed up in actual version, but hey - check out my shaders being given the appropriate information!</p>
	      <p>First up, I'll add a asset-loading pipeline, so I can give a loading message while things sort themselves out</p>
    </body>
</html>
